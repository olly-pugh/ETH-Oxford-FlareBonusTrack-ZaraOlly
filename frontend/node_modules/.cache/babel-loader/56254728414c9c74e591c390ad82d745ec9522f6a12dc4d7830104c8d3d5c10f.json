{"ast":null,"code":"import _objectSpread from\"/Users/oliverpugh/Desktop/1 - MSc Energy Systems/ETH Oxford/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from\"react\";import{LineChart,Line,AreaChart,Area,BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,ReferenceLine,ReferenceArea,ComposedChart}from\"recharts\";// ─── Theme ──────────────────────────────────────────────────────────────────\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const C={bg:\"#0a0e17\",card:\"#131a2b\",border:\"#1e2d4a\",green:\"#00d4aa\",greenDim:\"#00d4aa33\",red:\"#ff6b6b\",redDim:\"#ff6b6b22\",grey:\"#7a8ba8\",greyLine:\"#3a4a6a\",text:\"#e0e6f0\",muted:\"#7a8ba8\",orange:\"#ffaa44\",blue:\"#4488ff\"};// ─── Shared styles ──────────────────────────────────────────────────────────\nconst s={app:{fontFamily:\"'Inter','SF Pro',system-ui,sans-serif\",background:C.bg,color:C.text,minHeight:\"100vh\",padding:\"20px 24px\",maxWidth:1080,margin:\"0 auto\"},card:{background:C.card,border:\"1px solid \".concat(C.border),borderRadius:10,padding:\"18px 22px\",marginBottom:16},grid:{display:\"grid\",gap:14,marginBottom:20},grid4:{gridTemplateColumns:\"repeat(auto-fit, minmax(200px, 1fr))\"},section:{marginBottom:36},h2:{fontSize:17,fontWeight:600,marginBottom:6,color:C.text},hint:{fontSize:12,color:C.muted,marginBottom:14,lineHeight:1.5},label:{fontSize:11,textTransform:\"uppercase\",letterSpacing:1,color:C.muted,marginBottom:2},bigNum:{fontSize:26,fontWeight:700,color:C.green},select:{background:C.card,color:C.text,border:\"1px solid \".concat(C.border),borderRadius:6,padding:\"6px 10px\",fontSize:13,outline:\"none\"}};// ─── Helpers ────────────────────────────────────────────────────────────────\nconst fmt=function(n){let d=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return typeof n===\"number\"?n.toFixed(d):n;};const fmtK=n=>n>=1000?\"\".concat((n/1000).toFixed(1),\"k\"):fmt(n,0);function shortTs(ts){// \"2026-02-01T14:30Z\" → \"Feb 1 14:30\"\nconst m=ts.match(/(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}:\\d{2})/);if(!m)return ts;const months=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];return\"\".concat(months[+m[2]-1],\" \").concat(+m[3],\" \").concat(m[4]);}function hourLabel(ts){const m=ts.match(/T(\\d{2}:\\d{2})/);return m?m[1]:ts;}// ─── Stat card ──────────────────────────────────────────────────────────────\nfunction Stat(_ref){let{label,value,unit,color}=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:s.card,children:[/*#__PURE__*/_jsx(\"div\",{style:s.label,children:label}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},s.bigNum),{},{color:color||C.green}),children:[value,unit&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:13,color:C.muted,marginLeft:4},children:unit})]})]});}// ─── Custom tooltip ─────────────────────────────────────────────────────────\nfunction ChartTooltip(_ref2){let{active,payload,label}=_ref2;if(!active||!(payload!==null&&payload!==void 0&&payload.length))return null;return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#1a2236\",border:\"1px solid \".concat(C.border),borderRadius:6,padding:\"8px 12px\",fontSize:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:C.muted,marginBottom:4},children:label}),payload.map((p,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{color:p.color||C.text},children:[p.name,\": \",/*#__PURE__*/_jsx(\"b\",{children:typeof p.value===\"number\"?p.value.toFixed(1):p.value}),p.name.includes(\"kW\")||p.name.includes(\"Demand\")?\" kW\":\"\",p.name.includes(\"Intensity\")?\" gCO2/kWh\":\"\"]},i))]});}// ═════════════════════════════════════════════════════════════════════════════\n// APP\n// ═════════════════════════════════════════════════════════════════════════════\nexport default function App(){const[hhData,setHhData]=useState(null);const[flexData,setFlexData]=useState(null);const[selectedHH,setSelectedHH]=useState(0);const[dayIdx,setDayIdx]=useState(0);// Load data\nuseEffect(()=>{fetch(\"/data/households.json\").then(r=>r.json()).then(setHhData).catch(()=>{});fetch(\"/data/flex_responses.json\").then(r=>r.json()).then(setFlexData).catch(()=>{});},[]);// ── Derived data ────────────────────────────────────────────────────────\nconst{days,dayRanges,communityDay,hhDay,households,summary,hhSorted,highWindows}=useMemo(()=>{if(!hhData||!flexData)return{};const ts=hhData.timestamps;// Group by day\nconst dayMap={};ts.forEach((t,i)=>{const d=t.slice(0,10);if(!dayMap[d])dayMap[d]=[];dayMap[d].push(i);});const days=Object.keys(dayMap).sort();const dayRanges=days.map(d=>dayMap[d]);// Current day data\nconst di=Math.min(dayIdx,days.length-1);const range=dayRanges[di]||[];// Community-level chart data for selected day\nconst communityDay=range.map(i=>({time:hourLabel(ts[i]),ts:ts[i],baseline:hhData.aggregate_baseline_kw[i],shifted:hhData.aggregate_shifted_kw[i],intensity:hhData.intensities[i],isHigh:hhData.intensities[i]>=hhData.high_threshold}));// Household-level chart data for selected day\nconst hh=hhData.households[selectedHH];const hhDay=hh?range.map(i=>({time:hourLabel(ts[i]),baseline:hh.baseline_kw[i],shifted:hh.shifted_kw[i],intensity:hhData.intensities[i],isHigh:hhData.intensities[i]>=hhData.high_threshold})):[];// High-carbon windows for reference areas\nconst highWindows=[];let start=null;communityDay.forEach((d,i)=>{if(d.isHigh&&start===null)start=i;if(!d.isHigh&&start!==null){highWindows.push({x1:communityDay[start].time,x2:communityDay[i-1].time});start=null;}});if(start!==null)highWindows.push({x1:communityDay[start].time,x2:communityDay[communityDay.length-1].time});// Households sorted by tokens earned\nconst hhSorted=[...hhData.households].map((h,i)=>_objectSpread(_objectSpread({},h),{},{idx:i})).sort((a,b)=>b.tokens_earned-a.tokens_earned);return{days,dayRanges,communityDay,hhDay,households:hhData.households,summary:flexData.summary,hhSorted,highWindows};},[hhData,flexData,selectedHH,dayIdx]);if(!hhData||!flexData||!summary){return/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},s.app),{},{textAlign:\"center\",paddingTop:80}),children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:C.green,fontSize:28},children:\"FlexDAO\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:C.muted,marginTop:12},children:\"Loading simulation data...\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:C.muted,fontSize:12,marginTop:8},children:[\"Make sure \",/*#__PURE__*/_jsx(\"code\",{children:\"backend/data/households.json\"}),\" and \",/*#__PURE__*/_jsx(\"code\",{children:\"flex_responses.json\"}),\" are copied to \",/*#__PURE__*/_jsx(\"code\",{children:\"frontend/public/data/\"})]})]});}const hh=households[selectedHH];return/*#__PURE__*/_jsxs(\"div\",{style:s.app,children:[/*#__PURE__*/_jsxs(\"header\",{style:{textAlign:\"center\",marginBottom:28},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:30,fontWeight:700,color:C.green,margin:0},children:\"FlexDAO\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:C.muted,fontSize:14,marginTop:4},children:\"Comfort-constrained demand flexibility, verified on-chain via Flare FDC\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},s.grid),s.grid4),children:[/*#__PURE__*/_jsx(Stat,{label:\"Peak Demand Reduction\",value:\"\".concat(summary.peak_demand_reduction_pct,\"%\")}),/*#__PURE__*/_jsx(Stat,{label:\"Total Energy Shifted\",value:fmt(summary.total_shifted_kwh,1),unit:\"kWh\"}),/*#__PURE__*/_jsx(Stat,{label:\"Carbon Avoided\",value:fmtK(summary.total_carbon_avoided_gCO2),unit:\"gCO2\"}),/*#__PURE__*/_jsx(Stat,{label:\"FLEX Tokens Issued\",value:fmt(summary.total_tokens_issued,0),unit:\"FLEX\",color:C.orange})]}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},s.grid),s.grid4),children:[/*#__PURE__*/_jsx(Stat,{label:\"Households\",value:summary.n_households}),/*#__PURE__*/_jsx(Stat,{label:\"High-Carbon Slots\",value:summary.high_carbon_slots}),/*#__PURE__*/_jsx(Stat,{label:\"Avg Participants\",value:summary.avg_participants_per_event,unit:\"/event\"}),/*#__PURE__*/_jsx(Stat,{label:\"Intensity Threshold\",value:summary.high_carbon_slots>0?\"200\":\"—\",unit:\"gCO2/kWh\",color:C.red})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:20,display:\"flex\",alignItems:\"center\",gap:12},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:13,color:C.muted},children:\"Day:\"}),days.map((d,i)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDayIdx(i),style:{padding:\"4px 12px\",borderRadius:6,border:\"none\",cursor:\"pointer\",background:i===dayIdx?C.green:C.card,color:i===dayIdx?C.bg:C.muted,fontSize:12,fontWeight:i===dayIdx?600:400},children:d.slice(5)},d))]}),/*#__PURE__*/_jsxs(\"div\",{style:s.section,children:[/*#__PURE__*/_jsx(\"h2\",{style:s.h2,children:\"Community Demand \\u2014 Baseline vs Shifted\"}),/*#__PURE__*/_jsx(\"p\",{style:s.hint,children:\"Grey = original demand. Green = after comfort-constrained shifting. Red shading = high-carbon windows (\\u2265 200 gCO2/kWh). Only flexible load (EV, heat pump, battery) is shifted \\u2014 comfort limits prevent excessive reduction.\"}),/*#__PURE__*/_jsx(\"div\",{style:s.card,children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(ComposedChart,{data:communityDay,margin:{top:10,right:10,bottom:0,left:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:C.border}),highWindows.map((w,i)=>/*#__PURE__*/_jsx(ReferenceArea,{x1:w.x1,x2:w.x2,fill:C.redDim},i)),/*#__PURE__*/_jsx(XAxis,{dataKey:\"time\",tick:{fill:C.muted,fontSize:10},interval:\"preserveStartEnd\"}),/*#__PURE__*/_jsx(YAxis,{tick:{fill:C.muted,fontSize:10},label:{value:\"kW\",angle:-90,position:\"insideLeft\",fill:C.muted,fontSize:11}}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(ChartTooltip,{})}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{fontSize:12}}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"baseline\",name:\"Baseline Demand\",stroke:C.greyLine,fill:C.greyLine+\"33\",strokeWidth:1.5,dot:false}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"shifted\",name:\"Shifted Demand\",stroke:C.green,strokeWidth:2,dot:false})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{style:s.section,children:[/*#__PURE__*/_jsx(\"h2\",{style:s.h2,children:\"Carbon Intensity vs Demand\"}),/*#__PURE__*/_jsx(\"p\",{style:s.hint,children:\"Rewards scale with useful carbon-aware behaviour \\u2014 shifting during the highest-intensity windows earns the most FLEX tokens.\"}),/*#__PURE__*/_jsx(\"div\",{style:s.card,children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:280,children:/*#__PURE__*/_jsxs(ComposedChart,{data:communityDay,margin:{top:10,right:40,bottom:0,left:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:C.border}),highWindows.map((w,i)=>/*#__PURE__*/_jsx(ReferenceArea,{x1:w.x1,x2:w.x2,fill:C.redDim},i)),/*#__PURE__*/_jsx(XAxis,{dataKey:\"time\",tick:{fill:C.muted,fontSize:10},interval:\"preserveStartEnd\"}),/*#__PURE__*/_jsx(YAxis,{yAxisId:\"kw\",tick:{fill:C.muted,fontSize:10},label:{value:\"kW\",angle:-90,position:\"insideLeft\",fill:C.muted,fontSize:11}}),/*#__PURE__*/_jsx(YAxis,{yAxisId:\"ci\",orientation:\"right\",tick:{fill:C.muted,fontSize:10},label:{value:\"gCO2/kWh\",angle:90,position:\"insideRight\",fill:C.muted,fontSize:11}}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(ChartTooltip,{})}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{fontSize:12}}),/*#__PURE__*/_jsx(Area,{yAxisId:\"kw\",type:\"monotone\",dataKey:\"baseline\",name:\"Baseline (kW)\",stroke:C.greyLine,fill:C.greyLine+\"22\",strokeWidth:1,dot:false}),/*#__PURE__*/_jsx(Line,{yAxisId:\"kw\",type:\"monotone\",dataKey:\"shifted\",name:\"Shifted (kW)\",stroke:C.green,strokeWidth:2,dot:false}),/*#__PURE__*/_jsx(Line,{yAxisId:\"ci\",type:\"monotone\",dataKey:\"intensity\",name:\"Carbon Intensity\",stroke:C.red,strokeWidth:1.5,strokeDasharray:\"4 2\",dot:false}),/*#__PURE__*/_jsx(ReferenceLine,{yAxisId:\"ci\",y:200,stroke:C.red,strokeDasharray:\"8 4\",label:{value:\"Threshold\",fill:C.red,fontSize:10}})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{style:s.section,children:[/*#__PURE__*/_jsx(\"h2\",{style:s.h2,children:\"Household Detail\"}),/*#__PURE__*/_jsx(\"p\",{style:s.hint,children:\"Select a household to see its individual load curve. Each home has different flexible assets and comfort limits.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:14,alignItems:\"center\",marginBottom:14,flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"select\",{style:s.select,value:selectedHH,onChange:e=>setSelectedHH(+e.target.value),children:households.map((h,i)=>/*#__PURE__*/_jsxs(\"option\",{value:i,children:[h.id,\" \\u2014 \",h.flex_assets]},h.id))}),hh&&/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:12,color:C.muted},children:[\"Max shift: \",(hh.max_shift_fraction*100).toFixed(0),\"% | Max hours/day: \",hh.max_shift_hours,\" | Peak: \",hh.peak_demand_kw,\" kW | Shifted: \",hh.total_shifted_kwh,\" kWh | Tokens: \",hh.tokens_earned,\" FLEX\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:s.card,children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(ComposedChart,{data:hhDay,margin:{top:10,right:10,bottom:0,left:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:C.border}),highWindows.map((w,i)=>/*#__PURE__*/_jsx(ReferenceArea,{x1:w.x1,x2:w.x2,fill:C.redDim},i)),/*#__PURE__*/_jsx(XAxis,{dataKey:\"time\",tick:{fill:C.muted,fontSize:10},interval:\"preserveStartEnd\"}),/*#__PURE__*/_jsx(YAxis,{tick:{fill:C.muted,fontSize:10},label:{value:\"kW\",angle:-90,position:\"insideLeft\",fill:C.muted,fontSize:11}}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(ChartTooltip,{})}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{fontSize:12}}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"baseline\",name:\"Baseline\",stroke:C.greyLine,fill:C.greyLine+\"33\",strokeWidth:1.5,dot:false}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"shifted\",name:\"After Shifting\",stroke:C.green,strokeWidth:2,dot:false})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{style:s.section,children:[/*#__PURE__*/_jsx(\"h2\",{style:s.h2,children:\"Energy Shifted per Household\"}),/*#__PURE__*/_jsx(\"p\",{style:s.hint,children:\"Sorted by contribution. Larger homes with more flexible assets (EVs, batteries) can shift more \\u2014 but comfort limits cap each household.\"}),/*#__PURE__*/_jsx(\"div\",{style:s.card,children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:Math.max(280,hhSorted.length*22),children:/*#__PURE__*/_jsxs(BarChart,{data:hhSorted,layout:\"vertical\",margin:{top:5,right:20,bottom:5,left:60},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:C.border,horizontal:false}),/*#__PURE__*/_jsx(XAxis,{type:\"number\",tick:{fill:C.muted,fontSize:10},label:{value:\"kWh shifted\",position:\"insideBottom\",fill:C.muted,fontSize:11,offset:-2}}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"id\",type:\"category\",tick:{fill:C.muted,fontSize:10},width:55}),/*#__PURE__*/_jsx(Tooltip,{content:_ref3=>{let{active,payload}=_ref3;if(!active||!(payload!==null&&payload!==void 0&&payload.length))return null;const d=payload[0].payload;return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#1a2236\",border:\"1px solid \".concat(C.border),borderRadius:6,padding:\"8px 12px\",fontSize:12},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:600,marginBottom:4},children:[d.id,\" \\u2014 \",d.flex_assets]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Shifted: \",/*#__PURE__*/_jsxs(\"b\",{children:[d.total_shifted_kwh,\" kWh\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Demand shifted: \",/*#__PURE__*/_jsxs(\"b\",{children:[d.pct_demand_shifted,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Carbon avoided: \",/*#__PURE__*/_jsxs(\"b\",{children:[fmtK(d.carbon_avoided_gCO2),\" gCO2\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:C.orange},children:[\"Tokens: \",/*#__PURE__*/_jsxs(\"b\",{children:[d.tokens_earned,\" FLEX\"]})]})]});}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"total_shifted_kwh\",name:\"kWh Shifted\",fill:C.green,radius:[0,4,4,0]})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{style:s.section,children:[/*#__PURE__*/_jsx(\"h2\",{style:s.h2,children:\"FLEX Token Earnings\"}),/*#__PURE__*/_jsx(\"p\",{style:s.hint,children:\"Rewards scale with (energy shifted) x (carbon intensity delta). Shifting 1 kWh away from a 220 gCO2 slot to a 120 gCO2 slot earns more than shifting at 201 gCO2.\"}),/*#__PURE__*/_jsx(\"div\",{style:s.card,children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:Math.max(280,hhSorted.length*22),children:/*#__PURE__*/_jsxs(BarChart,{data:hhSorted,layout:\"vertical\",margin:{top:5,right:20,bottom:5,left:60},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:C.border,horizontal:false}),/*#__PURE__*/_jsx(XAxis,{type:\"number\",tick:{fill:C.muted,fontSize:10},label:{value:\"FLEX tokens\",position:\"insideBottom\",fill:C.muted,fontSize:11,offset:-2}}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"id\",type:\"category\",tick:{fill:C.muted,fontSize:10},width:55}),/*#__PURE__*/_jsx(Tooltip,{content:_ref4=>{let{active,payload}=_ref4;if(!active||!(payload!==null&&payload!==void 0&&payload.length))return null;const d=payload[0].payload;return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#1a2236\",border:\"1px solid \".concat(C.border),borderRadius:6,padding:\"8px 12px\",fontSize:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:4},children:d.id}),/*#__PURE__*/_jsxs(\"div\",{style:{color:C.orange},children:[\"Tokens: \",/*#__PURE__*/_jsxs(\"b\",{children:[d.tokens_earned,\" FLEX\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"kWh shifted: \",/*#__PURE__*/_jsx(\"b\",{children:d.total_shifted_kwh})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Avg intensity avoided: \",/*#__PURE__*/_jsxs(\"b\",{children:[d.total_shifted_kwh>0?fmt(d.carbon_avoided_gCO2/d.total_shifted_kwh,0):0,\" gCO2/kWh\"]})]})]});}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"tokens_earned\",name:\"FLEX Tokens\",fill:C.orange,radius:[0,4,4,0]})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{style:s.section,children:[/*#__PURE__*/_jsx(\"h2\",{style:s.h2,children:\"Architecture\"}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},s.card),{},{fontFamily:\"'SF Mono',monospace\",fontSize:11,lineHeight:1.6}),children:/*#__PURE__*/_jsx(\"pre\",{style:{margin:0,color:C.muted,overflow:\"auto\"},children:\"  UK Grid API (Web2)         Flare FDC (simulated)        FlexDAO (Solidity)\\n  \\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510       \\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510       \\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510\\n  \\u2502 Carbon Intensity \\u2502\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u25B6\\u2502 Attestation Stub  \\u2502\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u25B6\\u2502 FDCShim (on-chain\\u2502\\n  \\u2502 /intensity/{t}   \\u2502 fetch \\u2502 keccak256(ts)\\u2192val \\u2502 relay \\u2502 key\\u2192intensity)   \\u2502\\n  \\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518       \\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518       \\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u252C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518\\n                                                                 \\u2502 reads\\n  \\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510       \\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510       \\u250C\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u25BC\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2510\\n  \\u2502 25 Households   \\u2502\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u25B6\\u2502 Flex Responses    \\u2502\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u25B6\\u2502 FlexDAO.sol      \\u2502\\n  \\u2502 comfort-limited  \\u2502 numpy \\u2502 who shifted what  \\u2502submit \\u2502 verify + reward  \\u2502\\n  \\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518       \\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518       \\u2514\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2518\\n\\n  REAL:  Carbon intensity data, keccak256 keys, Solidity verification logic\\n  SIM:   FDC consensus, household metering, token transfers\"})})]}),/*#__PURE__*/_jsx(\"footer\",{style:{textAlign:\"center\",color:C.muted,fontSize:12,padding:\"12px 0 24px\"},children:\"FlexDAO \\u2014 ETH Oxford 2026 | Comfort-constrained demand flexibility on Flare\"})]});}","map":{"version":3,"names":["React","useState","useEffect","useMemo","LineChart","Line","AreaChart","Area","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","ReferenceLine","ReferenceArea","ComposedChart","jsx","_jsx","jsxs","_jsxs","C","bg","card","border","green","greenDim","red","redDim","grey","greyLine","text","muted","orange","blue","s","app","fontFamily","background","color","minHeight","padding","maxWidth","margin","concat","borderRadius","marginBottom","grid","display","gap","grid4","gridTemplateColumns","section","h2","fontSize","fontWeight","hint","lineHeight","label","textTransform","letterSpacing","bigNum","select","outline","fmt","n","d","arguments","length","undefined","toFixed","fmtK","shortTs","ts","m","match","months","hourLabel","Stat","_ref","value","unit","style","children","_objectSpread","marginLeft","ChartTooltip","_ref2","active","payload","map","p","i","name","includes","App","hhData","setHhData","flexData","setFlexData","selectedHH","setSelectedHH","dayIdx","setDayIdx","fetch","then","r","json","catch","days","dayRanges","communityDay","hhDay","households","summary","hhSorted","highWindows","timestamps","dayMap","forEach","t","slice","push","Object","keys","sort","di","Math","min","range","time","baseline","aggregate_baseline_kw","shifted","aggregate_shifted_kw","intensity","intensities","isHigh","high_threshold","hh","baseline_kw","shifted_kw","start","x1","x2","h","idx","a","b","tokens_earned","textAlign","paddingTop","marginTop","peak_demand_reduction_pct","total_shifted_kwh","total_carbon_avoided_gCO2","total_tokens_issued","n_households","high_carbon_slots","avg_participants_per_event","alignItems","onClick","cursor","width","height","data","top","right","bottom","left","strokeDasharray","stroke","w","fill","dataKey","tick","interval","angle","position","content","wrapperStyle","type","strokeWidth","dot","yAxisId","orientation","y","flexWrap","onChange","e","target","id","flex_assets","max_shift_fraction","max_shift_hours","peak_demand_kw","max","layout","horizontal","offset","_ref3","pct_demand_shifted","carbon_avoided_gCO2","radius","_ref4","overflow"],"sources":["/Users/oliverpugh/Desktop/1 - MSc Energy Systems/ETH Oxford/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport {\n  LineChart, Line, AreaChart, Area, BarChart, Bar,\n  XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n  ResponsiveContainer, ReferenceLine, ReferenceArea,\n  ComposedChart,\n} from \"recharts\";\n\n// ─── Theme ──────────────────────────────────────────────────────────────────\nconst C = {\n  bg: \"#0a0e17\", card: \"#131a2b\", border: \"#1e2d4a\",\n  green: \"#00d4aa\", greenDim: \"#00d4aa33\",\n  red: \"#ff6b6b\", redDim: \"#ff6b6b22\",\n  grey: \"#7a8ba8\", greyLine: \"#3a4a6a\",\n  text: \"#e0e6f0\", muted: \"#7a8ba8\",\n  orange: \"#ffaa44\", blue: \"#4488ff\",\n};\n\n// ─── Shared styles ──────────────────────────────────────────────────────────\nconst s = {\n  app: { fontFamily: \"'Inter','SF Pro',system-ui,sans-serif\", background: C.bg, color: C.text, minHeight: \"100vh\", padding: \"20px 24px\", maxWidth: 1080, margin: \"0 auto\" },\n  card: { background: C.card, border: `1px solid ${C.border}`, borderRadius: 10, padding: \"18px 22px\", marginBottom: 16 },\n  grid: { display: \"grid\", gap: 14, marginBottom: 20 },\n  grid4: { gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\" },\n  section: { marginBottom: 36 },\n  h2: { fontSize: 17, fontWeight: 600, marginBottom: 6, color: C.text },\n  hint: { fontSize: 12, color: C.muted, marginBottom: 14, lineHeight: 1.5 },\n  label: { fontSize: 11, textTransform: \"uppercase\", letterSpacing: 1, color: C.muted, marginBottom: 2 },\n  bigNum: { fontSize: 26, fontWeight: 700, color: C.green },\n  select: { background: C.card, color: C.text, border: `1px solid ${C.border}`, borderRadius: 6, padding: \"6px 10px\", fontSize: 13, outline: \"none\" },\n};\n\n// ─── Helpers ────────────────────────────────────────────────────────────────\nconst fmt = (n, d = 1) => (typeof n === \"number\" ? n.toFixed(d) : n);\nconst fmtK = (n) => (n >= 1000 ? `${(n / 1000).toFixed(1)}k` : fmt(n, 0));\n\nfunction shortTs(ts) {\n  // \"2026-02-01T14:30Z\" → \"Feb 1 14:30\"\n  const m = ts.match(/(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}:\\d{2})/);\n  if (!m) return ts;\n  const months = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\n  return `${months[+m[2] - 1]} ${+m[3]} ${m[4]}`;\n}\n\nfunction hourLabel(ts) {\n  const m = ts.match(/T(\\d{2}:\\d{2})/);\n  return m ? m[1] : ts;\n}\n\n// ─── Stat card ──────────────────────────────────────────────────────────────\nfunction Stat({ label, value, unit, color }) {\n  return (\n    <div style={s.card}>\n      <div style={s.label}>{label}</div>\n      <div style={{ ...s.bigNum, color: color || C.green }}>\n        {value}{unit && <span style={{ fontSize: 13, color: C.muted, marginLeft: 4 }}>{unit}</span>}\n      </div>\n    </div>\n  );\n}\n\n// ─── Custom tooltip ─────────────────────────────────────────────────────────\nfunction ChartTooltip({ active, payload, label }) {\n  if (!active || !payload?.length) return null;\n  return (\n    <div style={{ background: \"#1a2236\", border: `1px solid ${C.border}`, borderRadius: 6, padding: \"8px 12px\", fontSize: 12 }}>\n      <div style={{ color: C.muted, marginBottom: 4 }}>{label}</div>\n      {payload.map((p, i) => (\n        <div key={i} style={{ color: p.color || C.text }}>\n          {p.name}: <b>{typeof p.value === \"number\" ? p.value.toFixed(1) : p.value}</b>\n          {p.name.includes(\"kW\") || p.name.includes(\"Demand\") ? \" kW\" : \"\"}\n          {p.name.includes(\"Intensity\") ? \" gCO2/kWh\" : \"\"}\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// ═════════════════════════════════════════════════════════════════════════════\n// APP\n// ═════════════════════════════════════════════════════════════════════════════\nexport default function App() {\n  const [hhData, setHhData] = useState(null);\n  const [flexData, setFlexData] = useState(null);\n  const [selectedHH, setSelectedHH] = useState(0);\n  const [dayIdx, setDayIdx] = useState(0);\n\n  // Load data\n  useEffect(() => {\n    fetch(\"/data/households.json\").then(r => r.json()).then(setHhData).catch(() => {});\n    fetch(\"/data/flex_responses.json\").then(r => r.json()).then(setFlexData).catch(() => {});\n  }, []);\n\n  // ── Derived data ────────────────────────────────────────────────────────\n  const { days, dayRanges, communityDay, hhDay, households, summary,\n          hhSorted, highWindows } = useMemo(() => {\n    if (!hhData || !flexData) return {};\n    const ts = hhData.timestamps;\n    // Group by day\n    const dayMap = {};\n    ts.forEach((t, i) => {\n      const d = t.slice(0, 10);\n      if (!dayMap[d]) dayMap[d] = [];\n      dayMap[d].push(i);\n    });\n    const days = Object.keys(dayMap).sort();\n    const dayRanges = days.map(d => dayMap[d]);\n\n    // Current day data\n    const di = Math.min(dayIdx, days.length - 1);\n    const range = dayRanges[di] || [];\n\n    // Community-level chart data for selected day\n    const communityDay = range.map(i => ({\n      time: hourLabel(ts[i]),\n      ts: ts[i],\n      baseline: hhData.aggregate_baseline_kw[i],\n      shifted: hhData.aggregate_shifted_kw[i],\n      intensity: hhData.intensities[i],\n      isHigh: hhData.intensities[i] >= hhData.high_threshold,\n    }));\n\n    // Household-level chart data for selected day\n    const hh = hhData.households[selectedHH];\n    const hhDay = hh ? range.map(i => ({\n      time: hourLabel(ts[i]),\n      baseline: hh.baseline_kw[i],\n      shifted: hh.shifted_kw[i],\n      intensity: hhData.intensities[i],\n      isHigh: hhData.intensities[i] >= hhData.high_threshold,\n    })) : [];\n\n    // High-carbon windows for reference areas\n    const highWindows = [];\n    let start = null;\n    communityDay.forEach((d, i) => {\n      if (d.isHigh && start === null) start = i;\n      if (!d.isHigh && start !== null) {\n        highWindows.push({ x1: communityDay[start].time, x2: communityDay[i - 1].time });\n        start = null;\n      }\n    });\n    if (start !== null) highWindows.push({ x1: communityDay[start].time, x2: communityDay[communityDay.length - 1].time });\n\n    // Households sorted by tokens earned\n    const hhSorted = [...hhData.households]\n      .map((h, i) => ({ ...h, idx: i }))\n      .sort((a, b) => b.tokens_earned - a.tokens_earned);\n\n    return {\n      days, dayRanges, communityDay, hhDay,\n      households: hhData.households,\n      summary: flexData.summary,\n      hhSorted, highWindows,\n    };\n  }, [hhData, flexData, selectedHH, dayIdx]);\n\n  if (!hhData || !flexData || !summary) {\n    return (\n      <div style={{ ...s.app, textAlign: \"center\", paddingTop: 80 }}>\n        <h1 style={{ color: C.green, fontSize: 28 }}>FlexDAO</h1>\n        <p style={{ color: C.muted, marginTop: 12 }}>Loading simulation data...</p>\n        <p style={{ color: C.muted, fontSize: 12, marginTop: 8 }}>\n          Make sure <code>backend/data/households.json</code> and <code>flex_responses.json</code> are copied to <code>frontend/public/data/</code>\n        </p>\n      </div>\n    );\n  }\n\n  const hh = households[selectedHH];\n\n  return (\n    <div style={s.app}>\n      {/* ── Header ──────────────────────────────────────────────────────── */}\n      <header style={{ textAlign: \"center\", marginBottom: 28 }}>\n        <h1 style={{ fontSize: 30, fontWeight: 700, color: C.green, margin: 0 }}>FlexDAO</h1>\n        <p style={{ color: C.muted, fontSize: 14, marginTop: 4 }}>\n          Comfort-constrained demand flexibility, verified on-chain via Flare FDC\n        </p>\n      </header>\n\n      {/* ── 1. Summary metrics ──────────────────────────────────────────── */}\n      <div style={{ ...s.grid, ...s.grid4 }}>\n        <Stat label=\"Peak Demand Reduction\" value={`${summary.peak_demand_reduction_pct}%`} />\n        <Stat label=\"Total Energy Shifted\" value={fmt(summary.total_shifted_kwh, 1)} unit=\"kWh\" />\n        <Stat label=\"Carbon Avoided\" value={fmtK(summary.total_carbon_avoided_gCO2)} unit=\"gCO2\" />\n        <Stat label=\"FLEX Tokens Issued\" value={fmt(summary.total_tokens_issued, 0)} unit=\"FLEX\" color={C.orange} />\n      </div>\n      <div style={{ ...s.grid, ...s.grid4 }}>\n        <Stat label=\"Households\" value={summary.n_households} />\n        <Stat label=\"High-Carbon Slots\" value={summary.high_carbon_slots} />\n        <Stat label=\"Avg Participants\" value={summary.avg_participants_per_event} unit=\"/event\" />\n        <Stat label=\"Intensity Threshold\" value={summary.high_carbon_slots > 0 ? \"200\" : \"—\"} unit=\"gCO2/kWh\" color={C.red} />\n      </div>\n\n      {/* ── Day selector ────────────────────────────────────────────────── */}\n      <div style={{ marginBottom: 20, display: \"flex\", alignItems: \"center\", gap: 12 }}>\n        <span style={{ fontSize: 13, color: C.muted }}>Day:</span>\n        {days.map((d, i) => (\n          <button key={d} onClick={() => setDayIdx(i)} style={{\n            padding: \"4px 12px\", borderRadius: 6, border: \"none\", cursor: \"pointer\",\n            background: i === dayIdx ? C.green : C.card, color: i === dayIdx ? C.bg : C.muted,\n            fontSize: 12, fontWeight: i === dayIdx ? 600 : 400,\n          }}>\n            {d.slice(5)}\n          </button>\n        ))}\n      </div>\n\n      {/* ── 2. Community duck curve: baseline vs shifted ────────────────── */}\n      <div style={s.section}>\n        <h2 style={s.h2}>Community Demand — Baseline vs Shifted</h2>\n        <p style={s.hint}>\n          Grey = original demand. Green = after comfort-constrained shifting.\n          Red shading = high-carbon windows (&ge; 200 gCO2/kWh).\n          Only flexible load (EV, heat pump, battery) is shifted — comfort limits prevent excessive reduction.\n        </p>\n        <div style={s.card}>\n          <ResponsiveContainer width=\"100%\" height={300}>\n            <ComposedChart data={communityDay} margin={{ top: 10, right: 10, bottom: 0, left: 0 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke={C.border} />\n              {highWindows.map((w, i) => (\n                <ReferenceArea key={i} x1={w.x1} x2={w.x2} fill={C.redDim} />\n              ))}\n              <XAxis dataKey=\"time\" tick={{ fill: C.muted, fontSize: 10 }} interval=\"preserveStartEnd\" />\n              <YAxis tick={{ fill: C.muted, fontSize: 10 }} label={{ value: \"kW\", angle: -90, position: \"insideLeft\", fill: C.muted, fontSize: 11 }} />\n              <Tooltip content={<ChartTooltip />} />\n              <Legend wrapperStyle={{ fontSize: 12 }} />\n              <Area type=\"monotone\" dataKey=\"baseline\" name=\"Baseline Demand\" stroke={C.greyLine} fill={C.greyLine + \"33\"} strokeWidth={1.5} dot={false} />\n              <Line type=\"monotone\" dataKey=\"shifted\" name=\"Shifted Demand\" stroke={C.green} strokeWidth={2} dot={false} />\n            </ComposedChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* ── 3. Carbon intensity overlay ─────────────────────────────────── */}\n      <div style={s.section}>\n        <h2 style={s.h2}>Carbon Intensity vs Demand</h2>\n        <p style={s.hint}>\n          Rewards scale with useful carbon-aware behaviour — shifting during the highest-intensity windows earns the most FLEX tokens.\n        </p>\n        <div style={s.card}>\n          <ResponsiveContainer width=\"100%\" height={280}>\n            <ComposedChart data={communityDay} margin={{ top: 10, right: 40, bottom: 0, left: 0 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke={C.border} />\n              {highWindows.map((w, i) => (\n                <ReferenceArea key={i} x1={w.x1} x2={w.x2} fill={C.redDim} />\n              ))}\n              <XAxis dataKey=\"time\" tick={{ fill: C.muted, fontSize: 10 }} interval=\"preserveStartEnd\" />\n              <YAxis yAxisId=\"kw\" tick={{ fill: C.muted, fontSize: 10 }} label={{ value: \"kW\", angle: -90, position: \"insideLeft\", fill: C.muted, fontSize: 11 }} />\n              <YAxis yAxisId=\"ci\" orientation=\"right\" tick={{ fill: C.muted, fontSize: 10 }} label={{ value: \"gCO2/kWh\", angle: 90, position: \"insideRight\", fill: C.muted, fontSize: 11 }} />\n              <Tooltip content={<ChartTooltip />} />\n              <Legend wrapperStyle={{ fontSize: 12 }} />\n              <Area yAxisId=\"kw\" type=\"monotone\" dataKey=\"baseline\" name=\"Baseline (kW)\" stroke={C.greyLine} fill={C.greyLine + \"22\"} strokeWidth={1} dot={false} />\n              <Line yAxisId=\"kw\" type=\"monotone\" dataKey=\"shifted\" name=\"Shifted (kW)\" stroke={C.green} strokeWidth={2} dot={false} />\n              <Line yAxisId=\"ci\" type=\"monotone\" dataKey=\"intensity\" name=\"Carbon Intensity\" stroke={C.red} strokeWidth={1.5} strokeDasharray=\"4 2\" dot={false} />\n              <ReferenceLine yAxisId=\"ci\" y={200} stroke={C.red} strokeDasharray=\"8 4\" label={{ value: \"Threshold\", fill: C.red, fontSize: 10 }} />\n            </ComposedChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* ── 4. Household detail ─────────────────────────────────────────── */}\n      <div style={s.section}>\n        <h2 style={s.h2}>Household Detail</h2>\n        <p style={s.hint}>\n          Select a household to see its individual load curve. Each home has different flexible assets and comfort limits.\n        </p>\n        <div style={{ display: \"flex\", gap: 14, alignItems: \"center\", marginBottom: 14, flexWrap: \"wrap\" }}>\n          <select style={s.select} value={selectedHH} onChange={e => setSelectedHH(+e.target.value)}>\n            {households.map((h, i) => (\n              <option key={h.id} value={i}>{h.id} — {h.flex_assets}</option>\n            ))}\n          </select>\n          {hh && (\n            <span style={{ fontSize: 12, color: C.muted }}>\n              Max shift: {(hh.max_shift_fraction * 100).toFixed(0)}% |\n              Max hours/day: {hh.max_shift_hours} |\n              Peak: {hh.peak_demand_kw} kW |\n              Shifted: {hh.total_shifted_kwh} kWh |\n              Tokens: {hh.tokens_earned} FLEX\n            </span>\n          )}\n        </div>\n        <div style={s.card}>\n          <ResponsiveContainer width=\"100%\" height={250}>\n            <ComposedChart data={hhDay} margin={{ top: 10, right: 10, bottom: 0, left: 0 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke={C.border} />\n              {highWindows.map((w, i) => (\n                <ReferenceArea key={i} x1={w.x1} x2={w.x2} fill={C.redDim} />\n              ))}\n              <XAxis dataKey=\"time\" tick={{ fill: C.muted, fontSize: 10 }} interval=\"preserveStartEnd\" />\n              <YAxis tick={{ fill: C.muted, fontSize: 10 }} label={{ value: \"kW\", angle: -90, position: \"insideLeft\", fill: C.muted, fontSize: 11 }} />\n              <Tooltip content={<ChartTooltip />} />\n              <Legend wrapperStyle={{ fontSize: 12 }} />\n              <Area type=\"monotone\" dataKey=\"baseline\" name=\"Baseline\" stroke={C.greyLine} fill={C.greyLine + \"33\"} strokeWidth={1.5} dot={false} />\n              <Line type=\"monotone\" dataKey=\"shifted\" name=\"After Shifting\" stroke={C.green} strokeWidth={2} dot={false} />\n            </ComposedChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* ── 5. Flexibility contribution (kWh shifted per household) ──── */}\n      <div style={s.section}>\n        <h2 style={s.h2}>Energy Shifted per Household</h2>\n        <p style={s.hint}>\n          Sorted by contribution. Larger homes with more flexible assets (EVs, batteries) can shift more — but comfort limits cap each household.\n        </p>\n        <div style={s.card}>\n          <ResponsiveContainer width=\"100%\" height={Math.max(280, hhSorted.length * 22)}>\n            <BarChart data={hhSorted} layout=\"vertical\" margin={{ top: 5, right: 20, bottom: 5, left: 60 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke={C.border} horizontal={false} />\n              <XAxis type=\"number\" tick={{ fill: C.muted, fontSize: 10 }} label={{ value: \"kWh shifted\", position: \"insideBottom\", fill: C.muted, fontSize: 11, offset: -2 }} />\n              <YAxis dataKey=\"id\" type=\"category\" tick={{ fill: C.muted, fontSize: 10 }} width={55} />\n              <Tooltip content={({ active, payload }) => {\n                if (!active || !payload?.length) return null;\n                const d = payload[0].payload;\n                return (\n                  <div style={{ background: \"#1a2236\", border: `1px solid ${C.border}`, borderRadius: 6, padding: \"8px 12px\", fontSize: 12 }}>\n                    <div style={{ fontWeight: 600, marginBottom: 4 }}>{d.id} — {d.flex_assets}</div>\n                    <div>Shifted: <b>{d.total_shifted_kwh} kWh</b></div>\n                    <div>Demand shifted: <b>{d.pct_demand_shifted}%</b></div>\n                    <div>Carbon avoided: <b>{fmtK(d.carbon_avoided_gCO2)} gCO2</b></div>\n                    <div style={{ color: C.orange }}>Tokens: <b>{d.tokens_earned} FLEX</b></div>\n                  </div>\n                );\n              }} />\n              <Bar dataKey=\"total_shifted_kwh\" name=\"kWh Shifted\" fill={C.green} radius={[0, 4, 4, 0]} />\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* ── 6. Token earnings per household ──────────────────────────── */}\n      <div style={s.section}>\n        <h2 style={s.h2}>FLEX Token Earnings</h2>\n        <p style={s.hint}>\n          Rewards scale with (energy shifted) x (carbon intensity delta).\n          Shifting 1 kWh away from a 220 gCO2 slot to a 120 gCO2 slot earns more than shifting at 201 gCO2.\n        </p>\n        <div style={s.card}>\n          <ResponsiveContainer width=\"100%\" height={Math.max(280, hhSorted.length * 22)}>\n            <BarChart data={hhSorted} layout=\"vertical\" margin={{ top: 5, right: 20, bottom: 5, left: 60 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke={C.border} horizontal={false} />\n              <XAxis type=\"number\" tick={{ fill: C.muted, fontSize: 10 }} label={{ value: \"FLEX tokens\", position: \"insideBottom\", fill: C.muted, fontSize: 11, offset: -2 }} />\n              <YAxis dataKey=\"id\" type=\"category\" tick={{ fill: C.muted, fontSize: 10 }} width={55} />\n              <Tooltip content={({ active, payload }) => {\n                if (!active || !payload?.length) return null;\n                const d = payload[0].payload;\n                return (\n                  <div style={{ background: \"#1a2236\", border: `1px solid ${C.border}`, borderRadius: 6, padding: \"8px 12px\", fontSize: 12 }}>\n                    <div style={{ fontWeight: 600, marginBottom: 4 }}>{d.id}</div>\n                    <div style={{ color: C.orange }}>Tokens: <b>{d.tokens_earned} FLEX</b></div>\n                    <div>kWh shifted: <b>{d.total_shifted_kwh}</b></div>\n                    <div>Avg intensity avoided: <b>{d.total_shifted_kwh > 0 ? fmt(d.carbon_avoided_gCO2 / d.total_shifted_kwh, 0) : 0} gCO2/kWh</b></div>\n                  </div>\n                );\n              }} />\n              <Bar dataKey=\"tokens_earned\" name=\"FLEX Tokens\" fill={C.orange} radius={[0, 4, 4, 0]} />\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* ── Architecture diagram ─────────────────────────────────────── */}\n      <div style={s.section}>\n        <h2 style={s.h2}>Architecture</h2>\n        <div style={{ ...s.card, fontFamily: \"'SF Mono',monospace\", fontSize: 11, lineHeight: 1.6 }}>\n          <pre style={{ margin: 0, color: C.muted, overflow: \"auto\" }}>\n{`  UK Grid API (Web2)         Flare FDC (simulated)        FlexDAO (Solidity)\n  ┌─────────────────┐       ┌───────────────────┐       ┌──────────────────┐\n  │ Carbon Intensity │──────▶│ Attestation Stub  │──────▶│ FDCShim (on-chain│\n  │ /intensity/{t}   │ fetch │ keccak256(ts)→val │ relay │ key→intensity)   │\n  └─────────────────┘       └───────────────────┘       └────────┬─────────┘\n                                                                 │ reads\n  ┌─────────────────┐       ┌───────────────────┐       ┌───────▼──────────┐\n  │ 25 Households   │──────▶│ Flex Responses    │──────▶│ FlexDAO.sol      │\n  │ comfort-limited  │ numpy │ who shifted what  │submit │ verify + reward  │\n  └─────────────────┘       └───────────────────┘       └──────────────────┘\n\n  REAL:  Carbon intensity data, keccak256 keys, Solidity verification logic\n  SIM:   FDC consensus, household metering, token transfers`}\n          </pre>\n        </div>\n      </div>\n\n      {/* ── Footer ───────────────────────────────────────────────────── */}\n      <footer style={{ textAlign: \"center\", color: C.muted, fontSize: 12, padding: \"12px 0 24px\" }}>\n        FlexDAO — ETH Oxford 2026 | Comfort-constrained demand flexibility on Flare\n      </footer>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}